<div class="products-page">

  <!-- ðŸ” Filter sekcija -->
  <section class="filter-section">
    <form [formGroup]="filterForm" (ngSubmit)="onSubmit()">
      <input type="text" formControlName="searchQuery" placeholder="PretraÅ¾i proizvode..." />

      <select formControlName="categoryId">
        <option [value]="null">Sve kategorije</option>
        <option *ngFor="let cat of categories" [value]="cat.id">{{ cat.name }}</option>
      </select>

      <div class="price-range">
        <label>Od:</label>
        <input type="number" formControlName="minPrice" />
        <label>Do:</label>
        <input type="number" formControlName="maxPrice" />
      </div>

      <select formControlName="sortBy">
        <option value="createdDateDesc">Najnovije</option>
        <option value="priceAsc">Cijena - rastuÄ‡e</option>
        <option value="priceDesc">Cijena - opadajuÄ‡e</option>
      </select>

      <button type="submit">Primijeni filter</button>
    </form>
  </section>

  <hr />

  <!-- ðŸ§© Lista proizvoda -->
  <section class="product-list">
    <h2>Proizvodi</h2>

    <div class="product-grid">
      <div *ngFor="let product of products" class="product-card">

        <!-- Slika proizvoda -->
        <div class="product-image">
          <img [src]=" product.imageUrl" [alt]="product.name" />
        </div>

        <!-- Informacije o proizvodu -->
        <div class="product-info">
          <h3>{{ product.name }}</h3>
          <p class="brand"><strong>Brand:</strong> {{ product.brend }}</p>
          <p class="description">{{ product.description }}</p>
         <p class="price">{{ product.price }} KM</p>
        </div>

        <!-- Dugme za dodavanje u korpu (ako nije admin) -->
        <div class="product-actions" *ngIf="!isAdmin">
          <button (click)="addToCart(product.id)">Dodaj u korpu</button>
        </div>

      </div>
    </div>
  </section>

</div>
