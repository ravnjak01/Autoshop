<div class="products-page">

  <!--  Filter sekcija -->
  <section class="filter-section">
    <form [formGroup]="filterForm" (ngSubmit)="onSubmit()">
      <input type="text" formControlName="searchQuery" placeholder="Search products..." />

      <select formControlName="categoryId">
        <option [value]="null">All categories</option>
        <option *ngFor="let cat of categories" [value]="cat.id">{{ cat.name }}</option>
      </select>

      <div class="price-range">
        <label>From:</label>
        <input type="number" formControlName="minPrice" />
        <label>To:</label>
        <input type="number" formControlName="maxPrice" />
      </div>

      <select formControlName="sortBy">
        <option value="createdDateDesc">Latest</option>
        <option value="priceAsc">Price - ascending</option>
        <option value="priceDesc">Price - Descending</option>
      </select>

      <button type="submit">Apply filter</button>
    </form>
  </section>

  <hr />

  <!-- ðŸ§© Lista proizvoda -->
  <section class="product-list">
    <h2>Products</h2>

    <div class="product-grid">
      <div *ngFor="let product of products" class="product-card">

        <!-- Slika proizvoda -->
        <div class="product-image">
          <img [src]=" product.imageUrl" [alt]="product.name" />
        </div>

        <!-- Informacije o proizvodu -->
        <div class="product-info">
          <h3>{{ product.name }}</h3>
          <p class="brand"><strong>Brand:</strong> {{ product.brend }}</p>
          <p class="description">{{ product.description }}</p>
         <p class="price">{{ product.price }} KM</p>
        </div>

        <!-- Dugme za dodavanje u korpu (ako nije admin) -->
        <div class="product-actions" *ngIf="!isAdmin">
          <button (click)="addToCart(product.id)">Add to cart</button>
        </div>

      </div>
    </div>
  </section>

</div>
